<div class="container" th:fragment="tweetForm">

	<h3>Create a tweet</h3>
	<form method="POST" enctype="multipart/form-data" action="/add-tweet">
		<div class="form-group">
			<textarea class="form-control" id="tweetText" name="tweetText"
				rows="3" placeholder="What's happening?"></textarea>
		</div>

		<div class="form-group" style="margin-bottom: 1em">
			<label for="tweetFile">Tweet Image</label> <input type="file"
				id="tweetFile" name="tweetFile">
		</div>

		<div class="form-group">
			<label for="tweetDatetime">Post date time</label> <input readonly
				type="text" class="form-control" id="tweetDatetime"
				name="tweetDatetime">
			<div id=tweetDatetimePicker></div>
		</div>

		<div class="form-group">
			<button type="submit" class="btn btn-primary mb-2">Submit</button>
		</div>
	</form>

	<script>
		let tweetDatetimePicker, tweetDatetime;
		$(function() {
			tweetDatetimePicker = $('#tweetDatetimePicker');
			tweetDatetime = $('#tweetDatetime');

			tweetDatetimePicker.datetimepicker({
				inline : true,
				sideBySide : true,
				minDate : moment()
			}).on('dp.change', function(event) {
				displaySelectedDatetime(tweetDatetimePicker, tweetDatetime);
			});

			displaySelectedDatetime(tweetDatetimePicker, tweetDatetime);
		});
		function displaySelectedDatetime(picker, field) {
			field.val(picker.data("DateTimePicker").viewDate().format(
					'YYYY-MM-DDTHH:mmZ'));
		}
	</script>
</div>
